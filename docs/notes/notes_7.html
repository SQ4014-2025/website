<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>notes_7 ‚Äì Real World AI</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../notes/notes_8.html" rel="next">
<link href="../notes/notes_6.html" rel="prev">
<link href="../images/favicon.ico" rel="icon">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-b758ccaa5987ceb1b75504551e579abf.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-959d52b38afcd125cd930becff87d068.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-82fbd4854bc8d0254b5d015f55c763a4.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-959d52b38afcd125cd930becff87d068.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<meta property="og:title" content="Real World AI">
<meta property="og:image" content="https://SQ4014-2025.github.io/website/notes/images/week_7/cs50pWeek7Slide8.png">
<meta property="og:site_name" content="Real World AI">
<meta property="og:image:alt" content="State Machine.">
<meta property="og:image:height" content="800">
<meta property="og:image:width" content="1600">
<meta name="twitter:title" content="Real World AI">
<meta name="twitter:image" content="https://SQ4014-2025.github.io/website/notes/images/twitter-card.png">
<meta name="twitter:creator" content="@EdHarris9000">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar docked quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../notes/notes_0.html">Notes</a></li><li class="breadcrumb-item"><a href="../notes/notes_7.html">Notes 07 üêç</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/logo.png" alt="" class="sidebar-logo light-content py-0 d-lg-inline d-none">
      <img src="../images/logo.png" alt="" class="sidebar-logo dark-content py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/weharris" title="Course GitHub repo" class="quarto-navigation-tool px-1" aria-label="Course GitHub repo"><i class="bi bi-github"></i></a>
    <a href="https://youtube.com/@TheStatisticsLab" title="YouTube" class="quarto-navigation-tool px-1" aria-label="YouTube"><i class="bi bi-youtube"></i></a>
    <a href="https://discord.gg/dnNTE6xhhu" title="Join our Discord" class="quarto-navigation-tool px-1" aria-label="Join our Discord"><i class="bi bi-discord"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome!</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../module-schedule.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../module-syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../module-links.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Useful links</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../module-faq.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FAQ</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../module-project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Final Project</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Lectures</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/slides_0.pptx" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 00 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/slides_1.pptx" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 01 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/slides_2.pptx" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 02 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/slides_3.pptx" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 03 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/slides_4.pptx" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 04 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/slides_5.pptx" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 05 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/slides_6.pptx" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 06 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/slides_7.pptx" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 07 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/slides_8.pptx" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 08 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/slides_9.pptx" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 09 üêç</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Notes</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/notes_0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notes 00 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/notes_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notes 01 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/notes_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notes 02 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/notes_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notes 03 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/notes_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notes 04 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/notes_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notes 05 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/notes_6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notes 06 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/notes_7.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Notes 07 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/notes_8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notes 08 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/notes_9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notes 09 üêç</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Code</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://github.com/SQ4011-2025/website/tree/master/code/src0" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Code 00 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://github.com/SQ4011-2025/website/tree/master/code/src1" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Code 01 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://github.com/SQ4011-2025/website/tree/master/code/src2" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Code 02 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://github.com/SQ4011-2025/website/tree/master/code/src3" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Code 03 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://github.com/SQ4011-2025/website/tree/master/code/src4" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Code 04 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://github.com/SQ4011-2025/website/tree/master/code/src5" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Code 05 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://github.com/SQ4011-2025/website/tree/master/code/src6" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Code 06 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://github.com/SQ4011-2025/website/tree/master/code/src7" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Code 07 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://github.com/SQ4011-2025/website/tree/master/code/src8" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Code 08 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://github.com/SQ4011-2025/website/tree/master/code/src9" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Code 09 üêç</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">Problem Sets</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../problems/pset_0/pset_0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 00 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../problems/pset_1/pset_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 01 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../problems/pset_2/pset_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 02 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../problems/pset_3/pset_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 03 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../problems/pset_4/pset_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 04 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../problems/pset_5/pset_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 05 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../problems/pset_6/pset_6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 06 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../problems/pset_7/pset_7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 07 üêç</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../problems/pset_8/pset_8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 08 üêç</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#week-7-notes" id="toc-week-7-notes" class="nav-link active" data-scroll-target="#week-7-notes">Week 7 Notes</a></li>
  <li><a href="#lecture-7" id="toc-lecture-7" class="nav-link" data-scroll-target="#lecture-7">Lecture 7</a>
  <ul class="collapse">
  <li><a href="#regular-expressions" id="toc-regular-expressions" class="nav-link" data-scroll-target="#regular-expressions">Regular Expressions</a></li>
  <li><a href="#case-sensitivity" id="toc-case-sensitivity" class="nav-link" data-scroll-target="#case-sensitivity">Case Sensitivity</a></li>
  <li><a href="#cleaning-up-user-input" id="toc-cleaning-up-user-input" class="nav-link" data-scroll-target="#cleaning-up-user-input">Cleaning Up User Input</a></li>
  <li><a href="#extracting-user-input" id="toc-extracting-user-input" class="nav-link" data-scroll-target="#extracting-user-input">Extracting User Input</a></li>
  <li><a href="#summing-up" id="toc-summing-up" class="nav-link" data-scroll-target="#summing-up">Summing Up</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/SQ4014-2025/website/edit/master/notes/notes_7.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/SQ4014-2025/website/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../notes/notes_0.html">Notes</a></li><li class="breadcrumb-item"><a href="../notes/notes_7.html">Notes 07 üêç</a></li></ol></nav></header>





<section id="week-7-notes" class="level1">
<h1>Week 7 Notes</h1>
<hr>
</section>
<section id="lecture-7" class="level1">
<h1>Lecture 7</h1>
<ul>
<li><a href="#regular-expressions">Regular Expressions</a></li>
<li><a href="#case-sensitivity">Case Sensitivity</a></li>
<li><a href="#cleaning-up-user-input">Cleaning Up User Input</a></li>
<li><a href="#extracting-user-input">Extracting User Input</a></li>
<li><a href="#summing-up">Summing Up</a></li>
</ul>
<section id="regular-expressions" class="level2">
<h2 class="anchored" data-anchor-id="regular-expressions">Regular Expressions</h2>
<ul>
<li><p>Regular expressions or ‚Äúregexes‚Äù will enable us to examine patterns within our code. For example, we might want to validate that an email address is formatted correctly. Regular expressions will enable us to examine expressions in this fashion.</p></li>
<li><p>To begin, type <code>code validate.py</code> in the terminal window. Then, code as follows in the text editor:</p>
<pre><code>email = input("What's your email? ").strip()

if "@" in email:
    print("Valid")
else:
    print("Invalid")</code></pre>
<p>Notice that <code>strip</code> will remove whitespace at the beginning or end of the input. Running this program, you will see that as long as an <code>@</code> symbol is inputted, the program will regard the input as valid.</p></li>
<li><p>You can imagine, however, that one could input <code>@@</code> alone and the input could be regarded as valid. We could regard an email address as having at least one <code>@</code> and a <code>.</code> somewhere within it. Modify your code as follows:</p>
<pre><code>email = input("What's your email? ").strip()

if "@" in email and "." in email:
    print("Valid")
else:
    print("Invalid")</code></pre>
<p>Notice that while this works as expected, our user could be adversarial, typing simply <code>@.</code> would result in the program returning <code>valid</code>.</p></li>
<li><p>We can improve the logic of our program as follows:</p>
<pre><code>email = input("What's your email? ").strip()

username, domain = email.split("@")

if username and "." in domain:
    print("Valid")
else:
    print("Invalid")</code></pre>
<p>Notice how the <code>strip</code> method is used to determine if <code>username</code> exists and if <code>.</code> is inside the <code>domain</code> variable. Running this program, a standard email address typed in by you could be considered <code>valid</code>. Typing in <code>malan@harvard</code> alone, you‚Äôll find that the program regards this input as <code>invalid</code>.</p></li>
<li><p>We can be even more precise, modifying our code as follows:</p>
<pre><code>email = input("What's your email? ").strip()

username, domain = email.split("@")

if username and domain.endswith(".edu"):
    print("Valid")
else:
    print("Invalid")</code></pre>
<p>Notice how the <code>endswith</code> method will check to see if <code>domain</code> contains <code>.edu</code>. Still, however, a nefarious user could still break our code. For example, a user could type in <code>malan@.edu</code> and it would be considered valid.</p></li>
<li><p>Indeed, we could keep iterating upon this code ourselves. However, it turns out that Python has an existing library called <code>re</code> that has a number of built-in functions that can validate user inputs against patterns.</p></li>
<li><p>One of the most versatile functions within the library <code>re</code> is <code>search</code>.</p></li>
<li><p>The <code>search</code> function follows the signature <code>re.search(pattern, string, flags=0)</code>. Following this signature, we can modify our code as follows:</p>
<pre><code>import re

email = input("What's your email? ").strip()

if re.search("@", email):
    print("Valid")
else:
    print("Invalid")</code></pre>
<p>Notice this does not increase the functionality of our program at all. In fact, it is somewhat a step back.</p></li>
<li><p>We can further our program‚Äôs functionality. However, we need to advance our vocabulary around <code>validation</code>. It turns out that in the world of regular expressions there are certain symbols that allow us to identify patterns. At this point, we have only been checking for specific pieces of text like <code>@</code>. It so happens that many special symbols can be passed to the interpreter for the purpose of engaging in validation. A non-exhaustive list of those patterns is as follows:</p>
<pre><code>.   any character except a new line
*   0 or more repetitions
+   1 or more repetitions
?   0 or 1 repetition
{m} m repetitions
{m,n} m-n repetitions</code></pre></li>
<li><p>Implementing this inside of our code, modify yours as follows:</p>
<pre><code>import re

email = input("What's your email? ").strip()

if re.search(".+@.+", email):
    print("Valid")
else:
    print("Invalid")</code></pre>
<p>Notice that we don‚Äôt care what the username or domain is. What we care about is the pattern. <code>.+</code> is used to determine if anything is to the left of the email address and if anything is to the right of the email address. Running your code, typing in <code>malan@</code>, you‚Äôll notice that the input is regarded as <code>invalid</code> as we would hope.</p></li>
<li><p>Had we used a regular expression <code>.*@.*</code> in our code above, you can visualize this as follows: <img src="images/week_7/cs50pWeek7Slide8.png" title="cs50pWeek7Slide8.png" class="img-fluid" alt="State Machine."></p>
<p>Notice the depiction of the <code>state machine</code> of our regular expression. On the left, the interpreter begins evaluating the statement from left to right. Once we reach <code>q1</code> or question 1, the interpreter reads time and time again based on the expression handed to it. Then, the state is changed looking now at <code>q2</code> or the second question being validated. Again, the arrow indicates how the expression will be evaluated time and time again based upon our programming. Then, as depicted by the double circle, the final state of state machine is reached.</p></li>
<li><p>Considering the regular expression we used in our code, <code>.+@.+</code>, you can visualize it as follows: <img src="images/week_7/cs50pWeek7Slide10.png" title="cs50pWeek7Slide10.png" class="img-fluid" alt="State Machine."></p>
<p>Notice how <code>q1</code> is any character provided by the user, including ‚Äòq2‚Äô as 1 or more repetitions of characters. This is followed by the ‚Äò@‚Äô symbol. Then, <code>q3</code> looks for any character provided by the user, including <code>q4</code> as 1 or more repetitions of characters.</p></li>
<li><p>The <code>re</code> and <code>re.search</code> functions and ones like them look for patterns.</p></li>
<li><p>Continuing our improvement of this code, we could improve our code as follows:</p>
<pre><code>import re

email = input("What's your email? ").strip()

if re.search(".+@.+.edu", email):
    print("Valid")
else:
    print("Invalid")</code></pre>
<p>Notice, however, that one could type in <code>malan@harvard?edu</code> and it could be considered valid. Why is this the case? You might recognize that in the language of validation, a <code>.</code> means any character!</p></li>
<li><p>We can modify our code as follows:</p>
<pre><code>import re

email = input("What's your email? ").strip()

if re.search(r".+@.+\.edu", email):
    print("Valid")
else:
    print("Invalid")</code></pre>
<p>Notice how we utilize the ‚Äúescape character‚Äù or <code>\</code> as a way of regarding the <code>.</code> as part of our string instead of our validation expression. Testing your code, you will notice that <code>malan@harvard.edu</code> is regarded as valid, where <code>malan@harvard?edu</code> is invalid.</p></li>
<li><p>Now that we‚Äôre using escape characters, it‚Äôs a good time to introduce ‚Äúraw strings‚Äù. In Python, raw strings are strings that <em>don‚Äôt</em> format special characters‚Äîinstead, each character is taken at face-value. Imagine <code>\n</code>, for example. We‚Äôve seen in an earlier lecture how, in a regular string, these two characters become one: a special newline character. In a raw string, however, <code>\n</code> is treated not as <code>\n</code>, the special character, but as a single <code>\</code> and a single <code>n</code>. Placing an <code>r</code> in front of a string tells the Python interpreter to treat the string as a raw string, similar to how placing an <code>f</code> in front of a string tells the Python interpreter to treat the string as a format string:</p>
<pre><code>import re

email = input("What's your email? ").strip()

if re.search(r"^.+@.+\.edu$", email):
    print("Valid")
else:
    print("Invalid")</code></pre>
<p>Now we‚Äôve ensured the Python interpreter won‚Äôt treat <code>\.</code> as a special character. Instead, simply as a <code>\</code> followed by a <code>.</code>‚Äîwhich, in regular expression terms, means matching a literal ‚Äú.‚Äù.</p></li>
<li><p>You can imagine still how our users could create problems for us! For example, you could type in a sentence such as <code>My email address is malan@harvard.edu.</code> and this whole sentence would be considered valid. We can be even more precise in our coding.</p></li>
<li><p>It just so happens we have more special symbols at our disposal in validation:</p>
<pre><code>^   matches the start of the string
$   matches the end of the string or just before the newline at the end of the string</code></pre></li>
<li><p>We can modify our code using our added vocabulary as follows:</p>
<pre><code>import re

email = input("What's your email? ").strip()

if re.search(r"^.+@.+\.edu$", email):
    print("Valid")
else:
    print("Invalid")</code></pre>
<p>Notice this has the effect of looking for this exact pattern matching to the start and end of the expression being validated. Typing in a sentence such as <code>My email address is malan@harvard.edu.</code> now is regarded as invalid.</p></li>
<li><p>We propose we can do even better! Even though we are now looking for the username at the start of the string, the <code>@</code> symbol, and the domain name at the end, we could type in as many <code>@</code> symbols as we wish! <code>malan@@@harvard.edu</code> is considered valid!</p></li>
<li><p>We can add to our vocabulary as follows:</p>
<pre><code>[]    set of characters
[^]   complementing the set</code></pre></li>
<li><p>Using these newfound abilities, we can modify our expression as follows:</p>
<pre><code>import re

email = input("What's your email? ").strip()

if re.search(r"^[^@]+@[^@]+\.edu$", email):
    print("Valid")
else:
    print("Invalid")</code></pre>
<p>Notice that <code>^</code> means to match at the start of the string. All the way at the end of our expression, <code>$</code> means to match at the end of the string. <code>[^@]+</code> means any character except an <code>@</code>. Then, we have a literal <code>@</code>. <code>[^@]+\.edu</code> means any character except an <code>@</code> followed by an expression ending in <code>.edu</code>. Typing in <code>malan@@@harvard.edu</code> is now regarded as invalid.</p></li>
<li><p>We can still improve this regular expression further. It turns out there are certain requirements for what an email address can be! Currently, our validation expression is far too accommodating. We might only want to allow for characters normally used in a sentence. We can modify our code as follows:</p>
<pre><code>import re

email = input("What's your email? ").strip()

if re.search(r"^[a-zA-Z0-9_]+@[a-zA-Z0-9_]+\.edu$", email):
    print("Valid")
else:
    print("Invalid")</code></pre>
<p>Notice that <code>[a-zA-Z0-9_]</code> tells the validation that characters must be between <code>a</code> and <code>z</code>, between <code>A</code> and <code>Z</code>, between <code>0</code> and <code>9</code> and potentially include an <code>_</code> symbol. Testing the input, you‚Äôll find that many potential user mistakes can be indicated.</p></li>
<li><p>Thankfully, common patterns have been built into regular expressions by hard-working programmers. In this case, you can modify your code as follows:</p>
<pre><code>import re

email = input("What's your email? ").strip()

if re.search(r"^\w+@\w+\.edu$", email):
    print("Valid")
else:
    print("Invalid")</code></pre>
<p>Notice that <code>\w</code> is the same as <code>[a-zA-Z0-9_]</code>. Thanks, hard-working programmers!</p></li>
<li><p>Here are some additional patterns we can add to our vocabulary:</p>
<pre><code>\d    decimal digit
\D    not a decimal digit
\s    whitespace characters
\S    not a whitespace character
\w    word character, as well as numbers and the underscore
\W    not a word character</code></pre></li>
<li><p>Now, we know that there are not simply <code>.edu</code> email addresses. We could modify our code as follows:</p>
<pre><code>import re

email = input("What's your email? ").strip()

if re.search(r"^\w+@\w.+\.(com|edu|gov|net|org)$", email):
    print("Valid")
else:
    print("Invalid")</code></pre>
<p>Notice that the <code>|</code> has the impact of an <code>or</code> in our expression.</p></li>
<li><p>Adding even more symbols to our vocabulary, here are some more to consider:</p>
<pre><code>A|B     either A or B
(...)   a group
(?:...) non-capturing version</code></pre></li>
</ul>
</section>
<section id="case-sensitivity" class="level2">
<h2 class="anchored" data-anchor-id="case-sensitivity">Case Sensitivity</h2>
<ul>
<li><p>To illustrate how you might address issues around case sensitivity, where there is a difference between <code>EDU</code> and <code>edu</code> and the like, let‚Äôs rewind our code to the following:</p>
<pre><code>import re

email = input("What's your email? ").strip()

if re.search(r"^\w+@\w+\.edu$", email):
    print("Valid")
else:
    print("Invalid")</code></pre>
<p>Notice how we have removed the <code>|</code> statements provided previously.</p></li>
<li><p>Recall that within the <code>re.search</code> function, there is a parameter for <code>flags</code>.</p></li>
<li><p>Some built-in flag variables are:</p>
<pre><code>re.IGNORECASE
re.MULTILINE
re.DOTALL</code></pre>
<p>Consider how you might use these in your code.</p></li>
<li><p>Therefore, we can change our code as follows.</p>
<pre><code>import re

email = input("What's your email? ").strip()

if re.search(r"^\w+@\w+\.edu$", email, re.IGNORECASE):
    print("Valid")
else:
    print("Invalid")</code></pre>
<p>Notice how we added a third parameter <code>re.IGNORECASE</code>. Running this program with <code>MALAN@HARVARD.EDU</code>, the input is now considered valid.</p></li>
<li><p>Consider the following email address <code>importantProfessor@harper-adams.edu</code>. Using our code above, this would be considered invalid. Why might that be?</p></li>
<li><p>Since there is an additional <code>.</code>, the program considers this invalid.</p></li>
<li><p>It turns out that we can, looking at our vocabulary from before, we can group together ideas.</p>
<pre><code>A|B     either A or B
(...)   a group
(?:...) non-capturing version</code></pre></li>
<li><p>We can modify our code as follows:</p>
<pre><code>import re

email = input("What's your email? ").strip()

if re.search(r"^\w+@(\w+\.)?\w+\.edu$", email, re.IGNORECASE):
    print("Valid")
else:
    print("Invalid")</code></pre>
<p>Notice how the <code>(\w+\.)?</code> communicates to the interpreter that this new expression can be there once or not at all. Hence, both <code>importantProfessor@harper-adams.edu</code> and <code>importantProfessor@agridat.harper-adams.edu</code> are considered valid.</p></li>
<li><p>Interestingly enough, the edits we have done so far to our code do not fully encompass all the checking that could be done to ensure a valid email address. Indeed, here is the full expression that one would have to type to ensure that a valid email is inputted:</p>
<pre><code>^[a-zA-Z0-9.!#$%&amp;'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$</code></pre></li>
<li><p>There are other functions within the <code>re</code> library you might find useful. <code>re.match</code> and <code>re.fullmatch</code> are ones you might find exceedingly useful.</p></li>
<li><p>You can learn more in Python‚Äôs documentation of <a href="https://docs.python.org/3/library/re.html">re</a>.</p></li>
</ul>
</section>
<section id="cleaning-up-user-input" class="level2">
<h2 class="anchored" data-anchor-id="cleaning-up-user-input">Cleaning Up User Input</h2>
<ul>
<li><p>You should never expect your users to always follow your hopes for clean input. Indeed, users will often violate your intentions as a programmer.</p></li>
<li><p>There are ways to clean up your data.</p></li>
<li><p>In the terminal window, type <code>code format.py</code>. Then, in the text-editor, code as follows:</p>
<pre><code>name = input("What's your name? ").strip()
print(f"hello, {name}")</code></pre>
<p>Notice that we have created, essentially, a ‚Äúhello world‚Äù program. Running this program and typing in <code>David</code>, it works well! However, typing in <code>Malan, David</code> notice how the program does not function as intended. How could we modify our program to clean up this input?</p></li>
<li><p>Modify your code as follows.</p>
<pre><code>name = input("What's your name? ").strip()
if "," in name:
    last, first = name.split(", ")
    name = f"{first} {last}"
print(f"hello, {name}")</code></pre>
<p>Notice how <code>last, first = name.split(", ")</code> is run if there is a <code>,</code> in the name. Then, the name is standardized as first and last. Running our code, typing in <code>Malan, David</code>, you can see how this program does clean up at least one scenario where a user types in something unexpected.</p></li>
<li><p>You might notice that typing in <code>Malan,David</code> with no space causes the interpreter to throw an error. Since we now know some regular expression syntax, let‚Äôs apply that to our code:</p>
<pre><code>import re

name = input("What's your name? ").strip()
matches = re.search(r"^(.+), (.+)$", name)
if matches:
    last, first = matches.groups()
    name = first + " " + last
print(f"hello, {name}")</code></pre>
<p>Notice that <code>re.search</code> can return a set of matches that are extracted from the user‚Äôs input. If matches are returned by <code>re.search</code>. Running this program, typing in <code>David Malan</code> notice how the <code>if</code> condition is not run and the name is returned. If you run the program by typing <code>Malan, David</code>, the name is also returned properly.</p></li>
<li><p>It just so happens that we can request specific groups back using <code>matches.group</code>. We can modify our code as follows:</p>
<pre><code>import re

name = input("What's your name? ").strip()
matches = re.search(r"^(.+), (.+)$", name)
if matches:
    name = matches.group(2) + " " + matches.group(1)
print(f"hello, {name}")</code></pre>
<p>Notice how, in this implementation, <code>group</code> is not plural (there is no <code>s</code>).</p></li>
<li><p>Our code can be further tightened as follows:</p>
<pre><code>import re

name = input("What's your name? ").strip()
matches = re.search(r"^(.+), (.+)$", name)
if matches:
    name = matches.group(2) + " " + matches.group(1)
print(f"hello, {name}")</code></pre>
<p>Notice how <code>group(2)</code> and <code>group(1)</code> are concatenated together with a space. The first group is that which is left of the comma. The second group is that which is right of the comma.</p></li>
<li><p>Recognize still that typing in <code>Malan,David</code> with no space will still break our code. Therefore, we can make the following modification:</p>
<pre><code>import re

name = input("What's your name? ").strip()
matches = re.search(r"^(.+), *(.+)$", name)
if matches:
    name = matches.group(2) + " " + matches.group(1)
print(f"hello, {name}")</code></pre>
<p>Notice the addition of the <code>*</code> in our validation statement. This code will now accept and properly process <code>Malan,David</code>. Further, it will properly handle <code>David,Malan</code>with many spaces in front of<code>David</code>.</p></li>
<li><p>It is very common to utilize <code>re.search</code> as we have in the previous examples, where <code>matches</code> is on a line of code after. However, we can combine these statements:</p>
<pre><code>import re

name = input("What's your name? ").strip()
if matches := re.search(r"^(.+), *(.+)$", name):
    name = matches.group(2) + " " + matches.group(1)
print(f"hello, {name}")</code></pre>
<p>Notice how we combine two lines of our code. The walrus <code>:=</code> operator assigns a value from right to left and allows us to ask a boolean question at the same time. Turn your head sideways and you‚Äôll see why this is called a walrus operator.</p></li>
<li><p>You can learn more in Python‚Äôs documentation of <a href="https://docs.python.org/3/library/re.html">re</a>.</p></li>
</ul>
</section>
<section id="extracting-user-input" class="level2">
<h2 class="anchored" data-anchor-id="extracting-user-input">Extracting User Input</h2>
<ul>
<li><p>So far, we have validated the user‚Äôs input and cleaned up the user‚Äôs input.</p></li>
<li><p>Now, let‚Äôs extract some specific information from user input. In the terminal window, type <code>code twitter.py</code> and code as follows in the text editor window:</p>
<pre><code>url = input("URL: ").strip()
print(url)</code></pre>
<p>Notice that if we type in <code>https://twitter.com/davidjmalan</code>, it shows exactly what the user typed. However, how would we be able to extract just the username and ignore the rest of the URL?</p></li>
<li><p>You can imagine how we would simply be able to get rid of the beginning of the standard Twitter URL. We can attempt this as follows:</p>
<pre><code>url = input("URL: ").strip()

username = url.replace("https://twitter.com/", "")
print(f"Username: {username}")</code></pre>
<p>Notice how the <code>replace</code> method allows us to find one item and replace it with another. In this case, we are finding part of the URL and replacing it with nothing. Typing in the full URL <code>https://twitter.com/davidjmalan</code>, the program effectively outputs the username. However, what are some shortcomings of this current program?</p></li>
<li><p>What if the user simply typed <code>twitter.com</code> instead of including the <code>https://</code> and the like? You can imagine many scenarios where the user may input or neglect to input parts of the URL that would create strange output by this program. To improve this program, we can code as follows:</p>
<pre><code>url = input("URL: ").strip()

username = url.removeprefix("https://twitter.com/")
print(f"Username: {username}")</code></pre>
<p>Notice how we utilize the <code>removeprefix</code> method. This method will remove the beginning of a string.</p></li>
<li><p>Regular expressions simply allow us to succinctly express the patterns and goals.</p></li>
<li><p>Within the <code>re</code> library, there is a method called <code>sub</code>. This method allows us to substitute a pattern with something else.</p></li>
<li><p>The signature of the <code>sub</code> method is as follows</p>
<pre><code>re.sub(pattern, repl, string, count=0, flags=0)</code></pre>
<p>Notice how <code>pattern</code> refers to the regular expression we are looking for. Then, there is a <code>repl</code> string that we can replace the pattern with. Finally, there is the <code>string</code> that we want to do the substitution on.</p></li>
<li><p>Implementing this method in our code, we can modify our program as follows:</p>
<pre><code>import re

url = input("URL: ").strip()

username = re.sub(r"https://twitter.com/", "", url)
print(f"Username: {username}")</code></pre>
<p>Notice how executing this program and inputting <code>https://twitter.com/davidjmalan</code> produces the correct outcome. However, there are some problems still present in our code.</p></li>
<li><p>The protocol, subdomain, and the possibility that the user inputted any part of the URL after the username are all reasons that this code is still not ideal. We can further address these shortcomings as follows:</p>
<pre><code>import re

url = input("URL: ").strip()

username = re.sub(r"^(https?://)?(www\.)?twitter\.com/", "", url)
print(f"Username: {username}")</code></pre>
<p>Notice how the <code>^</code> caret was added to the url. Notice also how the <code>.</code> could be interpreted improperly by the interpreter. Therefore, we escape it using a <code>\</code> to make it <code>\.</code> For the purpose of tolerating both <code>http</code> and <code>https</code>, we add a <code>?</code> to the end of <code>https?</code>, making the <code>s</code> optional. Further, to accommodate <code>www</code> we add <code>(www\.)?</code> to our code. Finally, just in case the user decides to leave out the protocol altogether, the <code>http://</code> or <code>https://</code> is made optional using <code>(https?://)</code>.</p></li>
<li><p>Still, we are blindly expecting that what the user inputted a url that, indeed, has a username.</p></li>
<li><p>Using our knowledge of <code>re.search</code>, we can further improve our code.</p>
<pre><code>import re

url = input("URL: ").strip()

matches = re.search(r"^https?://(www\.)?twitter\.com/(.+)$", url, re.IGNORECASE)
if matches:
    print(f"Username:", matches.group(2))</code></pre>
<p>Notice how we are searching for the regular expression above in the string provided by the user. In particular, we are capturing that which appears at the end of the URL using <code>(.+)$</code> regular expression. Therefore, if the user fails to input a URL without a username, no input will be presented.</p></li>
<li><p>Even further tightening up our program, we can utilize our <code>:=</code> operator as follows:</p>
<pre><code>import re

url = input("URL: ").strip()

if matches := re.search(r"^https?://(?:www\.)?twitter\.com/(.+)$", url, re.IGNORECASE):
    print(f"Username:", matches.group(1))</code></pre>
<p>Notice that the <code>?:</code> tells the interpreter it does not have to capture what is in that spot in our regular expression.</p></li>
<li><p>Still, we can be more explicit to ensure that the username inputted is correct. Using Twitter‚Äôs documentation, we can add the following to our regular expression:</p>
<pre><code>import re

url = input("URL: ").strip()

if matches := re.search(r"^https?://(?:www\.)?twitter\.com/([a-z0-9_]+)", url, re.IGNORECASE):
    print(f"Username:", matches.group(1))</code></pre>
<p>Notice that the <code>[a-z0-9_]+</code> tells the interpreter to only expect <code>a-z</code>, <code>0-9</code>, and <code>_</code> as part of the regular expression. The <code>+</code> indicates that we are expecting one or more characters.</p></li>
<li><p>You can learn more in Python‚Äôs documentation of <a href="https://docs.python.org/3/library/re.html">re</a>.</p></li>
</ul>
</section>
<section id="summing-up" class="level2">
<h2 class="anchored" data-anchor-id="summing-up">Summing Up</h2>
<p>Now, you‚Äôve learned a whole new language of regular expressions that can be utilized to validate, clean up, and extract user input.</p>
<ul>
<li>Regular Expressions</li>
<li>Case Sensitivity</li>
<li>Cleaning Up User Input</li>
<li>Extracting User Input</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/SQ4014-2025\.github\.io\/website\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../notes/notes_6.html" class="pagination-link" aria-label="Notes 06 üêç">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Notes 06 üêç</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../notes/notes_8.html" class="pagination-link" aria-label="Notes 08 üêç">
        <span class="nav-page-text">Notes 08 üêç</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>¬© 2026 üêä <a href="https://weharris.me">W. Edwin Harris</a></p>
</div>   
    <div class="nav-footer-center">
<p>üìä <a href="https://thestatisticslab.com">The Statistics Lab</a></p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/SQ4014-2025/website/edit/master/notes/notes_7.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/SQ4014-2025/website/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>üöÄ Built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>